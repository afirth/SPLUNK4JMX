<form class="formsearch" >
  <label>Garbage Collection</label>

<fieldset autoRun="true">


 <input type="time" searchWhenChanged="true">
<default>Last 60 minutes</default>  
</input>      
</fieldset>

<row>
<table>
<title>Overview</title>
<searchString>index=jmx mbean="*GarbageCollector*" |stats  first(colTime) as "Collection Time"  first(colCount) as "Collection Count"  first(memPools) as "Memory Pools" by host jvmDescription gcName</searchString>
<option name="count">20</option>
<option name="displayRowNumbers">true</option>
<option name="showPager">true</option>

</table>
</row>

       
<row>
<chart>
<title>Last Collection Time</title>
<searchTemplate>index=jmx mbean="*GarbageCollector*" | eval jvmgc=jvmDescription+"_"+gcName | eval duration=gCEnd-gCStart | timechart  span=1m max(duration) by jvmgc</searchTemplate>
<option name="charting.chart">line</option>

<option name="charting.axisTitleY.text">Collection Time(millis)</option> 
<option name="charting.axisTitleX.text">Time</option>

</chart>

</row>

<row>
<chart>
<title>GC Thread Count</title>
<searchTemplate>index=jmx mbean="*GarbageCollector*" | eval jvmgc=jvmDescription+"_"+gcName |timechart  span=1m max(gCThreadCount)  by jvmgc</searchTemplate>
<option name="charting.chart">line</option>

<option name="charting.axisTitleY.text">Thread Count</option> 
<option name="charting.axisTitleX.text">Time</option>

</chart>

</row>

<row>
<chart>
<title>Frequency of Collections</title>
<searchTemplate>index=jmx mbean="*GarbageCollector*" | eval jvmgc=jvmDescription+"_"+gcName | streamstats current=f global=f window=1 first(gCStart) as next_gCStart  by jvmgc  | eval d_gCStart=gCStart-next_gCStart | eval gcFreq=(abs(d_gCStart)/1000/60)| timechart   span=1m  max(gcFreq) by jvmgc
</searchTemplate>
<option name="charting.chart">area</option>

<option name="charting.axisTitleY.text">Collection Frequency(minutes)</option> 
<option name="charting.axisTitleX.text">Time</option>

</chart>

</row>


<row>
<chart>
<title>Cumulative Collection Time</title>
<searchTemplate>index=jmx mbean="*GarbageCollector*"| eval jvmgc=jvmDescription+"_"+gcName | chart max(colTime) by jvmgc</searchTemplate>
<option name="charting.chart">pie</option>

<option name="charting.axisTitleY.text">Collection Time(millis)</option> 
</chart>
<chart>
<title>Cumulative Collection Count</title>
<searchTemplate>index=jmx mbean="*GarbageCollector*" | eval jvmgc=jvmDescription+"_"+gcName | chart max(colCount) by jvmgc</searchTemplate>
<option name="charting.chart">pie</option>

<option name="charting.axisTitleY.text">Collection Count</option> 


</chart>

</row>



</form>