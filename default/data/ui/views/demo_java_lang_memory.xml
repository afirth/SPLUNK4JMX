<form>
<label>JVM Memory</label>

<fieldset autoRun="true">

<input type="time" searchWhenChanged="true">
  <default>Last 60 minutes</default>  
</input>
      
</fieldset>

<row>

<table>
<title>Overview</title>
<searchString>index=jmx  mbean="java.lang:type=Memory" | stats  first(objectsPending) as "Objects Pending Collection" first(heapUsed) as "Heap Usage" first(nonHeapUsed) as "Non Heap Usage" by host jvmDescription</searchString>
<option name="count">20</option>
<option name="displayRowNumbers">true</option>
<option name="showPager">true</option>

</table>

</row>


<row>
<chart>
<title>JVM Heap Memory</title>
<searchTemplate>index=jmx mbean="java.lang:type=Memory" |timechart max(heapMax) as "Heap Maximum" ,max(heapUsed) as "Heap Used" by jvmDescription</searchTemplate>
<option name="charting.chart">line</option>

<option name="charting.axisTitleY.text">Heap Memory</option> 
<option name="charting.axisTitleX.text">Time</option>

</chart>

</row>


<row>
<chart>
<title>Percentage of Heap Memory used</title>
<searchTemplate>index=jmx mbean="java.lang:type=Memory" | eval memoryPercentUsed=round(((heapUsed/heapMax) * 100),2) | timechart max(memoryPercentUsed) by jvmDescription</searchTemplate>
<option name="charting.chart">line</option>
<option name="charting.axisTitleY.text">Percentage of Heap Used</option> 
<option name="charting.axisTitleX.text">Time</option>


</chart>
</row>

<row>
<chart>
<title>JVM Non Heap Memory</title>
<searchTemplate>index=jmx mbean="java.lang:type=Memory" |timechart max(nonHeapMax) as "Non Heap Maximum" ,max(nonHeapUsed) as "Non Heap Used" by jvmDescription</searchTemplate>
<option name="charting.chart">line</option>

<option name="charting.axisTitleY.text">Non Heap Memory</option> 
<option name="charting.axisTitleX.text">Time</option>

</chart>

</row>


<row>
<chart>
<title>Percentage of Non Heap Memory used</title>
<searchTemplate>index=jmx mbean="java.lang:type=Memory" | eval memoryPercentUsed=round(((nonHeapUsed/nonHeapMax) * 100),2) | timechart max(memoryPercentUsed) by jvmDescription</searchTemplate>
<option name="charting.chart">line</option>
<option name="charting.axisTitleY.text">Percentage of Non Heap Used</option> 
<option name="charting.axisTitleX.text">Time</option>


</chart>
</row>

</form>